# 表单简介

- **表单的组成部分**
  - form标签
  - 表单域：input标签。。textarea。。select....
  - 提交按钮： \<input type="submit">  \<button type="submit">提交</button>
    - 如果希望button不进行提交操作，只是普通按钮，可以设置type为button
- form标签的属性（了解）
  - action地址   target 是否弹窗 method 获取方式(get/post) enctype字符编码  （如果希望了解详细内容，可以查看ppt中的表格）
- 表单操作的特点：
  - 提交数据时会出现跳转的情况
- 常用的使用方式：
  - **使用表单进行数据采集(用输入框等元素获取输入内容)，使用ajax进行请求发送即可(提交)**

# 表单和ajax结合使用

## 如何阻止表单的默认提交行为

> submit注册事件,提交事件
>
> 在submit事件中，设置e.preventDefault()方法即可(推荐)， return false也可以,比较暴力,不仅可以阻止默认行为,还可以阻止冒泡

## jQuery的serialize方法

> 可以快速获取表单中的所有数据(**只能获取纯文本数据**)
>
> - 本小节介绍了一种新的表单数据获取方式，可以自己选择使用，并不是说不用就不行

- 使用方式： $(form的选择器).serialize() 
- 结果形式：
  - 名=值&名=值&名........
- 注意：这种内容格式可以通过$.get $.post $.ajax进行直接发送
  - 注意表单元素如果没有name，数据是无法正确提交的

# 模板引擎

## 简介

- 为什么要使用模板引擎
  - 传统方式的字符串拼接比较麻烦，html与js书写在一起不方便维护
- 模板引擎的作用：
  - 可以将生成结构的字符串拼接操作进行简化。

- 安装
  - 安装：官网下载 <http://aui.github.io/art-template/zh-cn/docs/installation.html>
- 使用步骤
  - 引入template-web.js
  - 准备数据(通常为请求得到的数据)
  - 准备模板
    - 使用script标签，设置type为text/template，设置id
    - 内部书写需要的结构内容
    - 结合模板语法进行操作
  - 调用template方法处理
    - template('id名', 数据)
    - 返回值为将数据和模板结合后得到的字符串

## 模板引擎的语法

- {{数据}}基本值的访问方式
  - {{}} 是模板的基本标记，标记中会进行模板语法的执行，标记外原样输出
  - {{$data}} 代表template()的参数2
  - {{`$data.属性名`}}用于访问$data的属性
    - **简写形式 {{`$data的属性名`}}  也表示访问$data的属性**

- {{@数据}}
  - 如果数据中含有html标签结构，加@可以生成，如果不加@就不会生成,默认将标签打印在页面中

- 模板中的if使用

```
    {{if age>=18}}
    <p>此人成年了</p>
    {{else}}
    <p>此人未成年</p>
    {{/if}}

    {{if age===17}}
    <p>此人17岁</p>
    {{/if}}

    {{if age===21}}
    <p>此人21岁</p>
    {{else if age===20}}
    <p>此人20岁</p>
    {{else}}
    <p>此人不知道多少岁</p>
    {{/if}}
```

- {{each}} 模板数据遍历

  - 可以统一遍历数组和对象两种形式

  - 在each中$index和$value是模板默认提供的名称， $index代表索引/属性名  $value代表元素值/属性值
  - 可以通过自定义名称替换$index与$value

  ```
    	{{each aiHao}}
        <div>这是div</div>  {{$index}}   {{$value}}
      {{/each}}
  
      {{each aiHao v i}}
        <div>这是div</div> {{v}} {{i}} 
      {{/each}}
  
  
      {{each obj}}
      <p>这是p标签</p>  {{$index}}   {{$value}}
      {{/each}}
  
      {{each obj value key}}
      <p>这是p标签</p>  {{key}}   {{value}}
      {{/each}}
  
  ```


## 模板的过滤器功能

- 作用：是用来对模板中某些数据进行处理的一个方法

- 设置方式：

  - **在调用模板功能前设置**

  ```js
  template.defaults.imports.过滤器名称 = function (模板中书写的数据) {
    // 进行各种的内容处理
    return '处理结果';
  };
  ```

  - 过滤器的返回值，会作为模板中最终展示的数据
  - 模板中的写法

  ```
  {{time}}  这是普通的输出方式
  {{time|过滤器名称}} 这是通过过滤器处理后的输出方式
  ```

## 模板引擎的实现方式

##正则表达式的方法

1.exec()正则提取方法

参数: 筛选的字符串

方法: 正则.exec()

返回值: 需要在字符串中提取的内容

每次提取一个新的内容,再次调用会提取之后的新内容,没有可提取的内容时返回null

2.replace 替换功能

方法:字符串.replace()

参数: 参数一可以是字符串,也可以是正则表达式,

​			参数二为需要替换的字符串

3.match()是字符串的方法

方法: 字符串.match()

参数:可以是字符串也可以是正则

match可以一次性提取所有的数据,但是无法分组,当正则表达式不加g时,只能提取第一个数据

与exec的区别,每次只能取一个,可以利用循环分组

正则.test()是检验正则是否匹配或者满足某些条件;

"."在正则中代表特殊字符,表示全包含,可以用转译字符\,\\.可以只取点